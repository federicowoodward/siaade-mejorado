<div class="m-w-custom">
  <h2 class="mb-4">Gestión de Materias</h2>

  <!-- Filtros -->
  <!-- <div class="flex flex-wrap gap-4 mb-6">
    <div class="flex flex-column">
      <label for="filterName" class="font-semibold">Nombre de Materia</label>
      <input
        id="filterName"
        pInputText
        type="text"
        [(ngModel)]="filterName"
        (input)="applyFilters()"
        placeholder="Filtrar por nombre..."
        class="w-64"
      />
    </div>
    <div class="flex flex-column">
      <label for="filterCourse" class="font-semibold">Curso (Nº-Letra)</label>
      <input
        id="filterCourse"
        pInputText
        type="text"
        [(ngModel)]="filterCourse"
        (input)="applyFilters()"
        placeholder="Ej: 2-A"
        class="w-32"
      />
    </div>
    <div class="flex flex-column">
      <label for="filterYear" class="font-semibold">Año</label>
      <input
        id="filterYear"
        pInputText
        type="text"
        [(ngModel)]="filterYear"
        (input)="applyFilters()"
        placeholder="Ej: 2025"
        class="w-24"
      />
    </div>
  </div> -->

  <p-table
    [value]="subjects()"
    [paginator]="true"
    [rows]="10"
    responsiveLayout="scroll"
  >
    <ng-template pTemplate="header">
      <tr>
        <th>Nombre de Materia</th>
        <th>Profesor</th>
        <th>Curso</th>
        <th>Año</th>
        <th>Correlativa</th>
        <th>Acciones</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-subject>
      <tr>
        <td>{{ subject.subjectName }}</td>
        <!-- <td>{{ teacherMap[subject.teacher] || 'Sin asignar' }}</td> -->
        <td>{{ subject.courseNum }}-{{ subject.courseLetter }}</td>
        <td>{{ subject.courseYear }}</td>
        <td>
          <button
            pButton
            type="button"
            label="Ver"
            class="p-button-text p-button-sm"
            (click)="viewCorrelative(subject.correlative)"
            [disabled]="!subject.correlative"
          ></button>
        </td>
        <td class="flex gap-2">
          <button
            pButton
            icon="pi pi-users"
            class="p-button-text"
            pTooltip="Alumnos inscriptos"
            (click)="viewStudents(subject.id)"
          ></button>
        </td>
      </tr>
    </ng-template>
  </p-table>

  <!-- Diálogo de alumnos inscriptos -->
  <!-- <p-dialog
      header="Alumnos Inscriptos"
      [(visible)]="showStudentsDialog"
      [modal]="true"
      [style]="{ width: '400px' }"
    >
      <ul class="list-disc pl-4">
        <li *ngFor="let s of studentsOfSubject">
          {{ s.name }} {{ s.lastName }}
        </li>
      </ul>
    </p-dialog> -->

  <!-- Diálogo de correlativa -->
  <!-- <p-dialog
      header="Materia Correlativa"
      [(visible)]="showCorrelativeDialog"
      [modal]="true"
      [style]="{ width: '400px' }"
    >
      <p *ngIf="correlativeSubject">
        {{ correlativeSubject.subjectName }}
      </p>
      <p *ngIf="!correlativeSubject">No hay correlativa.</p>
    </p-dialog> -->
</div>
