/* Contenedor principal */
.auth-shell {
    width: 48rem;
    max-width: 95vw;
    min-height: 28rem;
    position: relative;
    border-radius: var(--p-surface-border-radius, 12px);
    overflow: hidden;
}

/* Ocultar elementos móviles en desktop */
.mobile-auth-header {
    display: none;
}

.pane-title {
    display: none; /* Ocultar títulos en desktop por defecto */
}

/* Header móvil compacto con tabs */
@media (max-width: 767px) {
  .mobile-auth-header { 
    display: block; 
    background: linear-gradient(135deg, #015bdc, #0770ff 55%, #0a8dff); 
    padding: 1rem 1rem 0.9rem; 
    color: #fff; 
    position: relative; 
  }
  
  .mobile-auth-header .m-tabs { 
    position: relative; 
    display: flex; 
    background: rgba(255,255,255,.12); 
    padding: 3px; 
    border-radius: 10px; 
    gap: 0; 
    margin: 0 0 0.8rem; 
    box-shadow: inset 0 1px 3px rgba(0,0,0,.1);
  }
  
  .mobile-auth-header .m-tabs button { 
    flex: 1; 
    background: transparent; 
    border: none; 
    font-weight: 600; 
    font-size: 0.78rem; 
    letter-spacing: 0.3px; 
    padding: 0.5rem 0.2rem; 
    color: #dbe9ff; 
    cursor: pointer; 
    border-radius: 7px; 
    position: relative; 
    z-index: 2; 
    transition: color 0.25s ease;
  }
  
  .mobile-auth-header .m-tabs button.active { 
    color: #0d1b2f; 
    font-weight: 700;
  }
  
  .mobile-auth-header .m-tabs .pill { 
    position: absolute; 
    top: 3px; 
    left: 3px; 
    width: calc(50% - 6px); 
    height: calc(100% - 6px); 
    background: #fff; 
    border-radius: 7px; 
    box-shadow: 0 2px 8px rgba(0,0,0,.15), 0 1px 3px rgba(0,0,0,.1); 
    transition: transform 0.3s cubic-bezier(.65,.05,.36,1); 
  }
  
  .mobile-auth-header .m-head h2 { 
    margin: 0 0 0.25rem; 
    font-size: 1.1rem; 
    font-weight: 700; 
    letter-spacing: 0.2px;
  }
  
  .mobile-auth-header .m-head p { 
    margin: 0; 
    font-size: 0.7rem; 
    opacity: 0.88; 
    font-weight: 500; 
    letter-spacing: 0.2px; 
  }
  
  .auth-shell { 
    width: 100%; 
    min-height: auto; 
    border-radius: 0;
  }
  
  .auth-content { 
    padding: 0; 
    overflow: hidden; 
  }
  
  .panes { 
    flex-direction: row; 
    width: 200%; 
    transition: transform 0.35s cubic-bezier(.75,.02,.25,1); 
  }
  
  .auth-shell.login-mode .panes { 
    transform: translateX(-50%); /* Mostrar segundo panel (Login) */
  }
  
  .auth-shell.recover-mode .panes { 
    transform: translateX(0); /* Mostrar primer panel (Recuperar) */
  }
  
  .panes > .pane { 
    width: 50%; 
    flex: 0 0 50%; 
    opacity: 1 !important; /* Forzar visibilidad en móvil */
    transform: translateY(0) scale(1) !important; /* Resetear transforms */
  }
  
  .pane { 
    padding: 1.3rem 1.1rem 1.8rem; 
  }
  
  .pane-title { 
    display: none; 
  }
  
  .form-block { 
    max-width: 100%; 
    margin: 0 auto; 
  }
  
  .cover-slider { 
    display: none; 
  }
  
  /* Resetear aria-hidden pointer-events en móvil */
  .pane[aria-hidden="true"] {
    pointer-events: auto;
  }
}/* Cápsula azul + wipe (login activo: cubre panel izquierdo/recuperar; recover activo: cubre panel derecho/login) */
.cover-slider { position:absolute; top:0; bottom:0; left:0; width:50%; background:linear-gradient(120deg,#4d79ff,#5e8bff 45%,#6e9bff); z-index:3; pointer-events:none; box-shadow:0 10px 34px -10px rgba(30,60,160,.35),0 4px 10px -2px rgba(40,90,200,.25); transition:left 700ms cubic-bezier(.8,0,.2,1), width 700ms cubic-bezier(.8,0,.2,1), border-radius 700ms cubic-bezier(.8,0,.2,1), box-shadow 700ms; overflow:hidden; display:flex; align-items:center; justify-content:center; padding:2.2rem 2rem; will-change:left,width,border-radius; }

/* Estado base (no transición) */
.login-mode:not(.transitioning) .cover-slider { left:0; width:50%; border-radius:0 160px 160px 0/0 100% 100% 0; }
.recover-mode:not(.transitioning) .cover-slider { left:50%; width:50%; border-radius:160px 0 0 160px/100% 0 0 100%; }

/* Fase de expansión (cubre todo) */
.transitioning.expand-phase .cover-slider { left:0 !important; width:100% !important; border-radius:44px !important; }

/* Fase de contracción luego de toggle de modo */
.transitioning:not(.expand-phase).login-mode .cover-slider { left:0; width:50%; border-radius:0 160px 160px 0/0 100% 100% 0; }
.transitioning:not(.expand-phase).recover-mode .cover-slider { left:50%; width:50%; border-radius:160px 0 0 160px/100% 0 0 100%; }
/* Ligero enfoque de relieve al cubrir */
.transitioning.expand-phase .cover-slider { box-shadow:0 14px 52px -12px rgba(20,50,150,.48),0 0 0 1px rgba(255,255,255,.22) inset; }
/* Suavizar aparición del CTA nuevo tras el wipe */
.transitioning .cover-text { opacity:0; transition:opacity 200ms ease 80ms; }
.transitioning:not(.expand-phase) .cover-text { opacity:1; transition-delay:120ms; }

/* Contenido interno CTA */
.cover-content{position:relative; z-index:2; max-width:15rem; text-align:center; color:#fff; pointer-events:auto;}
.cover-title{margin:0 0 .75rem;font-weight:600;font-size:1.3rem;}
.cover-desc{margin:0 0 1rem;font-size:.85rem;opacity:.9;}
.cover-btn{--c:#fff;color:#fff !important;border:1px solid rgba(255,255,255,.7)!important;background:transparent!important;}
.cover-btn:hover{background:rgba(255,255,255,.15)!important;}
.cover-text{animation: cfade 640ms cubic-bezier(.65,.05,.36,1);}
@keyframes cfade{0%{opacity:0;transform:translateY(18px)}100%{opacity:1;transform:translateY(0)}}
/* Brillos y textura suaves */
.cover-slider::before{content:"";position:absolute;inset:0;background:radial-gradient(circle at 28% 38%,rgba(255,255,255,.45),rgba(255,255,255,0) 62%),radial-gradient(circle at 78% 68%,rgba(255,255,255,.30),rgba(255,255,255,0) 65%);mix-blend-mode:screen;opacity:.55;animation:capsPulse 7s ease-in-out infinite;}
.cover-slider::after{content:"";position:absolute;inset:0;background:radial-gradient(circle at 15% 85%,rgba(255,255,255,.18),rgba(255,255,255,0) 55%);mix-blend-mode:overlay;opacity:.35;animation:capsPulse 9s reverse infinite;}
@keyframes capsPulse{0%,100%{opacity:.35}50%{opacity:.75}}
/* (reemplazado por nueva forma semicircular) */
/* Pane fade mientras se expande */
.sweeping .pane{opacity:0 !important;}

/* --- Animaciones de panes (fade + slide + escala ligera) --- */
.pane { opacity: 0; transform: translateY(12px) scale(.985); transition: opacity 420ms ease, transform 520ms cubic-bezier(.65,.05,.36,1); will-change: opacity, transform; }
.login-mode .login-pane { opacity:1; transform: translateY(0) scale(1); }
.recover-mode .recover-pane { opacity:1; transform: translateY(0) scale(1); }
/* Animaciones de entrada del contenido textual optimizadas */
.anim-text-enter .pane-title, 
.anim-text-enter form, 
.anim-text-enter .pane-footer { 
  animation: fadeSlide 580ms cubic-bezier(.65,.05,.36,1); 
}

.anim-text-enter form { 
  animation-delay: 100ms; 
}

.anim-text-enter .pane-footer { 
  animation-delay: 180ms; 
}

@keyframes fadeSlide { 
  0% { 
    opacity: 0; 
    transform: translateY(16px);
  } 
  100% {
    opacity: 1; 
    transform: translateY(0);
  } 
}
/* Asegurar que la pane inactiva no reciba foco click (opcional) */
.pane[aria-hidden="true"] { pointer-events:none; transition-delay: 120ms; }
.login-mode .login-pane, .recover-mode .recover-pane { transition-delay: 140ms; }

/* Ajuste suave para pantallas pequeñas: se oculta */
@media (max-width: 767px) {
    .cover-slider { display: none; }
}

/* Distribución de panes lado a lado sin desplazarlos */
.panes { display: flex; }
.panes > .pane { width: 50%; position:relative; z-index:1; }

.auth-content { position: relative; z-index: 2; }

.pane {
    position: relative;
    z-index: 2;
    padding: 1.5rem 0.75rem 0.5rem 0.75rem;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    min-height: 26rem;
}

/* Nuevos estilos para alineación y footer */
.pane-inner {
    display: flex;
    flex-direction: column;
    height: 100%;
}

.pane-title {
    font-weight: 600;
    margin: 0 0 1.25rem 0;
    text-align: center; /* centrar ambos títulos */
}

.form-block {
    flex: 1;
    display: flex;
    flex-direction: column;
    max-width: 20rem; /* ancho consistente */
    width: 100%;
    margin: 0 auto; /* centrar dentro del pane */
}

.pane-footer {
    margin-top: auto;
    padding: 1.25rem 0 .4rem 0;
    display: flex;
    justify-content: center;
    font-size: .8rem;
    font-weight: 500;
}

.switch-link {
    cursor: pointer;
    color: var(--p-primary-color, #0ea5e9);
    font-weight: 500;
    letter-spacing: .25px;
    transition: color .2s;
}
.switch-link:hover { color: #0284c7; }

/* Mantener alturas equivalentes */
.recover-pane, .login-pane { display: flex; flex-direction: column; position: relative; z-index: 2; }

.center-form {
    display: flex;
    flex-direction: column;
    justify-content: center;
    flex: 1;
}

/* Alinear labels a la izquierda dentro del bloque centrado */
.form-block label { text-align: left; }

/* Asegurar que el botón ocupe exactamente el ancho del formulario sin desbordes */
.form-block button[w-full],
.form-block button.w-full,
.form-block button { align-self: stretch; }

/* Ajustes responsivos optimizados para móvil */
@media (max-width: 767px) {
    .mobile-auth-header { 
      display: block; /* Mostrar header móvil solo en móvil */
    }
    
    .pane-title { 
      display: none; /* Mantener títulos ocultos incluso en móvil */
    }
    
    .pane-footer { 
      justify-content: center; 
      padding-top: 0.4rem; 
      font-size: 0.75rem;
    }
    
    .auth-shell { 
      width: 100%; 
      min-height: auto; 
      border-radius: 0;
    }
    
    .form-block input,
    .form-block button {
      font-size: 0.9rem;
    }
    
    .form-block label {
      font-size: 0.8rem;
      font-weight: 600;
    }
}

@media (prefers-reduced-motion: reduce) {
    .slider-bg {
        transition: none;
    }
}

::ng-deep {
    .p-password-overlay {
        display: none !important;
    }
}